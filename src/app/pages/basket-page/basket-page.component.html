<!-- <div class="container mt-6">
    <div class="row rounded pt-5" style="background-color: rgba(243, 243, 243, 0.596); border: #444 2px solid;">
        <div class="row mb-5 ms-6">
            <h2 class="mt-2">Basket</h2>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div style="font-size: .5vhx; color: #fff;"> <input type="checkbox" (change)="checkAllOptions()" style="min-width: 3vw; min-height: 3vh;"> Select All</div>
                <table class="table">
                    <thead>
                        <tr class="table-head">
                            <th scope="col"></th>
                            <th scope="col">Image</th>
                            <th scope="col">Product</th>
                            <th scope="col">Amount</th>
                            <th scope="col">Price</th>
                            <th scope="col">Delete</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let item of basketItems">
                        <tr class="table-body">
                            <td>
                                <input type="checkbox" [(ngModel)]="item.isSelected" class="checkbox">
                            </td>
                            <td>
                                <img src="../assets/images/steel.jpg" >
                            </td>
                            <td class="prod">
                                {{ item.product }}
                            </td> 
                            <td class="prod">
                                {{ item.amount }}
                            </td>
                            <td class="prod">
                                {{ item.price }}
                            </td>
                            <td>
                                <button class="btn" style="background: none; box-shadow: none;" (click)="removeItem(item.id)"><i class='far fa-trash-alt' style='font-size:2.5vh;color:red'></i></button> 
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div> 
    </div>
</div> -->

<div class="container-fluid">
        <div class="row mt-6 justify-content-center" style="background-color: #f5f6f7; min-height: 90vh;">
            <div class="col-md-7 frame mt-5">
                <section class="box table-box p-5">
                    <div class="mb-4">
                        <h2>Basket <i style='font-size:32px' class='fas'>&#xf07a;</i></h2>
                    </div>
                    <div class="">
                        <i style='font-size:24px' class='fas'>&#xf104;</i><a style="text-decoration: none; font-size: 18px;" [routerLink]="['/products']"> Go Back to Shopping</a>
                    </div>
                    
                    <div class="table-responsive col-md-12">
                        <input type="checkbox"  class="checkbox" [(ngModel)]="check" (ngModelChange)="checkAllOptions($event)" *ngIf="basketItemsLength">
                        <p class="float-end" style="font-size: 18px;">{{ basketItemsLength }} items in the basket</p>
                        <div class="mt-4" *ngIf="!basketItemsLength">
                            <h3 style="color: grey; font-weight: bold;">
                                Basket is empty !
                            </h3>
                        </div>
                        <form [formGroup]="itemForm">
                        <table class="table  table-borderless"><!--table-striped-->
                            <thead>
                                
                                
                                <tr class="table-head">
                                    <!-- <th scope="col"><input type="checkbox"  class="checkbox" (change)="checkAllOptions()"checked></th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                    <th scope="col"></th> -->
                                </tr>
                            </thead>
                            <tbody formArrayName="orders" *ngFor="let order of ordersFormArray.controls; let i = index; "> <!--*ngFor="let item of basketItems"-->
                                <tr class="table-body">
                                    <td>
                                        <!-- <input type="checkbox"  class="checkbox" [(ngModel)]="item.isSelected"> -->
                                        <!-- <label formArrayName="orders" *ngFor="let order of ordersFormArray.controls; let i = index">
                                            <input type="checkbox" [formControlName]="i"> 
                                          </label> -->
                                        <input type="checkbox" class="checkbox" [(ngModel)]=basketItems[i].isSelected  [formControlName]="i" > 
                                        <!-- {{order.value}} -->
                                    </td>
                                    <td>
                                        <div class="mt-3">
                                            <img src="../assets/images/steel.jpg" >
                                        </div>
                                    </td>
                                    <td class="prod" colspan="2">
                                        <div class="mt-1" style="font-size: 24px;">{{ basketItems[i].product }}</div> 
                                        <div class="mt-1" style="font-size: 18px;">Quentity: {{ basketItems[i].amount }} kg</div>
                                        <div>
                                            <button class="btn" style="background: none; box-shadow: none;" (click)="removeItem(basketItems[i].id)">
                                                <i class='far fa-trash-alt' style='font-size:2.5vh;color:red'></i>
                                            </button>
                                        </div>
                                        
                                    </td>
                                    <td class="prod">
                                        <div class="mt-5" style="font-size: 18px; color: grey; font-weight: bold;">
                                            Shipping: Truck
                                        </div>
                                    </td>
                                    <td class="prod">
                                        <div class="mt-5" style="font-size: 24px; font-weight: bold; color: #444;">{{ basketItems[i].price }} $</div>
                                    </td>
                                    
                                </tr>
                            </tbody>
                        </table>
                    </form>
                        <!-- <table class="table table-striped table-borderless">
                            <thead>
                                <tr class="table-head">
                                    <th scope="col"><input type="checkbox"  class="checkbox" (change)="checkAllOptions()"></th>
                                    <th scope="col">Image</th>
                                    <th scope="col">Product</th>
                                    <th scope="col">Amount</th>
                                    <th scope="col">Price</th>
                                    <th scope="col">Delete</th>
                                </tr>
                            </thead>
                            <tbody *ngFor="let item of basketItems">
                                <tr class="table-body">
                                    <td>
                                        <input type="checkbox" [(ngModel)]="item.isSelected" class="checkbox">
                                    </td>
                                    <td>
                                        <img src="../assets/images/steel.jpg" >
                                    </td>
                                    <td class="prod">
                                        {{ item.product }}
                                    </td> 
                                    <td class="prod">
                                        {{ item.amount }}
                                    </td>
                                    <td class="prod">
                                        {{ item.price }} $
                                    </td>
                                    <td>
                                        <button class="btn" style="background: none; box-shadow: none;" (click)="removeItem(item.id)"><i class='far fa-trash-alt' style='font-size:2.5vh;color:red'></i></button> 
                                    </td>
                                </tr>
                            </tbody>
                        </table> -->
                    </div>
                    
                </section>
            </div>
            <div class="col-md-3 mt-5 frame-total">
                <section class="box box--small">
                    <div class="p-3">
                        <h3 class="box-title">Summary</h3>
                        <div class="total mt-3">
                            <span>Total Product </span>
                            <span class="float-end"><strong>{{ basketItemsLength }}</strong></span>
                        </div>
                        <div class="total pb-3" style="border-bottom: 0.4px solid rgba(202, 202, 202, 0.5);">
                            <span>Totaly</span>
                            <span class="price float-end"><strong>{{ prev_total }} $</strong></span>
                        </div>
                        <div class="mt-2">
                            <span class="total-price"><b>Total: </b></span>
                            <span class="total-price float-end"><b>{{ total }} $</b></span>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-success float-end" style="font-size: 18px;" (click)="next()" [disabled]="!isNull">Go Payment <i style='font-size:22px' class='fas'>&#xf061;</i></button>
                            <button class="btn btn-success" style="font-size: 18px;" (click)="confirm()">Confirm Basket<i class="far ms-2" style="font-size:22px"> &#xf274; </i></button>
                        </div>
                        
                    </div>
                </section>
            </div>
    </div>
</div>